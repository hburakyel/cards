<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.9" />
    <link
      rel="stylesheet"
      href="style.css"
    />
    <title>About</title>
    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-ERYNBX2ZL7"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-ERYNBX2ZL7");
    </script>
    <!-- Include any necessary CSS -->
    <style>
      .content {
        max-width: 600px;
      }

      .concept {
        text-align: left;
      }
    </style>
  </head>
  <body>
    <header>
      <div>
        <a href="https://cards-cards-cards.link"><h2>Cards</h2></a>
      </div>
      <div class="menu-toggle"><h2>Menu</h2></div>
    </header>
    <nav>
      <div class="menu-content">
        <div class="menu-sections">
          <a href="locations.html"
            ><h2>Locations</h2></a
          >
          <a href="photos.html"
            ><h2>Photos</h2></a
          >
          <a href="about.html"
            ><h2>About</h2></a
          >
          <a href="donation.html"
            ><h2>Donation</h2></a
          >
          <a href="imprint.html"
            ><h2>Imprint</h2></a
          >
          <a
            class="icon icon--fill header-icon header-icon-border-shape-none header-icon-border-style-outline"
            href="https://www.instagram.com/cards.cards.cards/"
            target="_blank"
            aria-label="Instagram"
          >
            <svg
              fill="#000000"
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              width="24"
              height="24"
              style="margin-top: 2px"
              viewBox="0 0 169.063 169.063"
              xml:space="preserve"
            >
              <g>
                <path
                  d="M122.406,0H46.654C20.929,0,0,20.93,0,46.655v75.752c0,25.726,20.929,46.655,46.654,46.655h75.752
		c25.727,0,46.656-20.93,46.656-46.655V46.655C169.063,20.93,148.133,0,122.406,0z M154.063,122.407
		c0,17.455-14.201,31.655-31.656,31.655H46.654C29.2,154.063,15,139.862,15,122.407V46.655C15,29.201,29.2,15,46.654,15h75.752
		c17.455,0,31.656,14.201,31.656,31.655V122.407z"
                />
                <path
                  d="M84.531,40.97c-24.021,0-43.563,19.542-43.563,43.563c0,24.02,19.542,43.561,43.563,43.561s43.563-19.541,43.563-43.561
		C128.094,60.512,108.552,40.97,84.531,40.97z M84.531,113.093c-15.749,0-28.563-12.812-28.563-28.561
		c0-15.75,12.813-28.563,28.563-28.563s28.563,12.813,28.563,28.563C113.094,100.281,100.28,113.093,84.531,113.093z"
                />
                <path
                  d="M129.921,28.251c-2.89,0-5.729,1.17-7.77,3.22c-2.051,2.04-3.23,4.88-3.23,7.78c0,2.891,1.18,5.73,3.23,7.78
		c2.04,2.04,4.88,3.22,7.77,3.22c2.9,0,5.73-1.18,7.78-3.22c2.05-2.05,3.22-4.89,3.22-7.78c0-2.9-1.17-5.74-3.22-7.78
		C135.661,29.421,132.821,28.251,129.921,28.251z"
                />
              </g>
            </svg>
          </a>
        </div>
        <div class="footer">
              <div id="mc_embed_signup">
        <form
          action="https://glitch.us8.list-manage.com/subscribe/post?u=a6d17de0d4831e200d52c5c81&amp;id=5d3b0ad8f4&amp;f_id=00a5c3e1f0"
          method="post"
          id="mc-embedded-subscribe-form"
          name="mc-embedded-subscribe-form"
          target="_blank"
        >
          <p>Newsletter</p>
          <div class="mc-field-group">
            <input
              type="email"
              name="EMAIL"
              class="required email"
              id="mce-EMAIL"
              placeholder=""
              required
            />
          </div>
          <div>
            <input
              type="submit"
              value="Subscribe"
              name="subscribe"
              id="mc-embedded-subscribe"
              class="button"
            />
          </div>
        </form>
      </div>
          <p>&copy; 2024 Cards. All Rights Reserved.</p>
        </div>
      </div>
    </nav>
    <!-- Main content area -->
    <div class="content">
      <h2>About</h2>
      <br /><br />
      <br />
      <div class="concept">
        <p></p>
        <br /><br />
      </div>
      <div id="artist-info"></div>
      <br /><br />
      <p>Contact</p>
      <a href="https://www.instagram.com/cards.cards.cards/">Instagram</a>
      <br />
      <a href="mailto:andres.gorzycki@gmail.com">Email</a>
      <br /><br />
      <p>Join Telegram</p>
      <a href="https://t.me/+wL9Y87Ws9OdiOTY5">Telegram</a>
      <br /><br />
    </div>
    <script>
      document
        .querySelector(".menu-toggle")
        .addEventListener("click", function () {
          var nav = document.querySelector("nav");
          nav.classList.toggle("open");
          if (nav.classList.contains("open")) {
            document.querySelector(".menu-toggle").textContent = "Close";
          } else {
            document.querySelector(".menu-toggle").textContent = "Menu";
          }
        });
    </script>
    <!-- Include any necessary JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script>
      $(document).ready(function () {
        $.ajax({
          type: "GET",
          url: "https://docs.google.com/spreadsheets/d/1AiDoRneZQsH2Qswffd37SweB3dROV5Ozj6tr8_HYbas/gviz/tq?tqx=out:csv&sheet=Sheet1",
          dataType: "text",
          success: function (data) {
            parseCSVData(data);
          },
        });

        function parseCSVData(csvData) {
          // Using PapaParse for robust CSV parsing
          Papa.parse(csvData, {
            header: true,
            skipEmptyLines: true,
            complete: function (results) {
              displayData(results.data);
            },
          });
        }

        function displayData(data) {
          var artistTable =
            "<table><tr><th>Artist</th><th>Editions</th><th>Year</th></tr>";

          // Loop through each row of the parsed CSV data
          data.forEach(function (row) {
            // Ensure we only add valid rows with Artist, Editions, and Year data
            if (row["Artist"] && row["Cards"] && row["Year"]) {
              artistTable += "<tr>";
              artistTable += "<td>" + row["Artist"] + "</td>";
              artistTable += "<td>" + row["Cards"] + "</td>";
              artistTable += "<td>" + row["Year"] + "</td>";
              artistTable += "</tr>";
            }
          });

          artistTable += "</table>";
          $("#artist-info").html(artistTable);

          // Now for updating the Concept section
          var conceptText = data[0]["Concept"]; // Assuming the concept text is in the first row
          if (conceptText) {
            $(".concept p").html(conceptText.replace(/\n/g, "<br>")); // Handle line breaks
          }
        }
      });
    </script>
  </body>
</html>
